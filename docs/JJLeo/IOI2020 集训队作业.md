# IOI2020 集训队作业

## **AGC029F**

### 题意

给定 $n-1$ 个 $\{1,2,\cdots,n\}$ 的大小至少为 $2$ 的子集 $S_i$，构造一种方案，使得从每个子集选两个点连边，最后生成一棵树。($1 \le n \le 10^5$，$\sum|S_i| \le 2 \times 10^5$)

### 题解

考虑一个必要条件：

> 建立一个二分图，左边是所有点，右边是 $n-1$ 个集合。
>
> 钦定一个根节点，将其它每个点和父边对应的集合匹配，则上述二分图有最大匹配。

容易证明，这也是充分条件：

> 考虑如下类似 bfs 的操作：将与根节点相连的所有集合拿出来，各自找到其匹配点，将他们都当作根节点的儿子；接下来将这些点相连的且之前没被选过的集合拿出来，重复上述操作，再将各匹配点当作各自节点的儿子。
>
> 如果最终能遍历到所有点，则这是一个合法的构造方案。注意到总点数左边比右边多一个，且遍历到的点也是左边比右边多一个，因此假设不能遍历所有的点，对于没遍历的点，左右数量相同。显然当点数和边数相同时，必然会出现环，矛盾。

直接跑 dinic 即可，时间复杂度为 $O(\sum|S_i| \sqrt n)$。

## **AGC030C**

### 题意



### 题解



## **AGC030D**

### 题意



### 题解



## **AGC030E**

### 题意



### 题解



## **AGC030F**

### 题意



### 题解



## **AGC031D**

### 题意



### 题解



## **AGC031E**

### 题意



### 题解



## **AGC031F**

### 题意



### 题解



## **AGC032C**

### 题意



### 题解